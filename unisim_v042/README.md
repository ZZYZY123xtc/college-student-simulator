# 大学生模拟器 (University Life Simulator) v0.4.2

一款全面的大学生生活模拟游戏，帮助玩家体验和规划大学四年的学习、生活与职业发展。

## 🎮 游戏概述

大学生模拟器是一个基于网页的交互式模拟游戏，玩家需要在4年大学生涯中平衡多个维度的属性，做出各种选择，最终达成不同的人生结局。

### 核心机制

- **属性系统**：精力、压力、心情、健康、金钱、社交6个核心属性
- **学期管理**：自动选课、退补选、考试、成绩评分
- **行动系统**：每学期每周3次行动，包括学习、科研、工作、社交等
- **路线系统**：支持保研、考研、考公、出国、就业5条发展路线
- **结局系统**：根据选择和成就解锁多个结局与隐藏成就

## 🎯 游戏特色

### 开局设置
玩家可选择：
- **学院**：医科、理工、商科、文社（影响课程池和事件）
- **家境**：拮据、普通、小康、富裕（影响每月生活费）
- **路线**：保研、考研、考公、出国、就业（影响事件和评分权重）

### 学期系统
- 第1周自动进行选课
- 第3周可进行退补选（支持弹窗式调整）
- 第14-16周为期末考试周
- 自动计算成绩并更新GPA

### 属性管理
每个属性都会受到学期、周度和行动的影响：

| 属性 | 初始值 | 用途 |
|------|--------|------|
| 精力 | 50 | 行动成功率、学习效率 |
| 压力 | 40 | 影响健康下滑速度 |
| 心情 | 60 | 影响行动效率 |
| 健康 | 75 | 过低导致生病 |
| 金钱 | 变量 | 用于消费、行动支出 |
| 社交 | 0 | 影响运气、心情下滑折扣 |

### 行动系统
每学期每周可进行**3次行动**（寒暑假为2次），包括：
- **学习**：增加学术能力，消耗精力和压力
- **科研**：增加科研能力，消耗较多精力
- **工作**：获得金钱，消耗精力和时间
- **聚会**：增加社交，消耗金钱，恢复心情
- **锻炼**：增加健康，消耗少量金钱
- **休息**：恢复精力和压力

### 路线评分与结局

#### 保研（Postgraduate via Recommendation）
- 门槛：第6学期末 GPA ≥ 3.7
- 评分权重：研究能力(0.45) + 学术能力(0.25) + 英语(0.15) + 稳定性(0.10) + 运气(0.05)
- 结局：`pushmian_success` / `pushmian_setback` / `pushmian_phd`（隐藏）

#### 考研（Postgraduate Entrance Exam）
- 结算权重：学术能力(0.45) + 英语(0.20) + 稳定性(0.20) + 运气(0.15)
- 通过线：≥ 60 分
- 结局：`postgrad_pass` / `postgrad_fail` / `postgrad_985`（隐藏）

#### 考公（Civil Service Exam）
- 结算权重：稳定性(0.40) + 运气(0.25) + 学术能力(0.20) + 职业能力(0.10) + 英语(0.05)
- 通过线：≥ 58 分
- 结局：`civil_pass` / `civil_fail` / 隐藏成就

#### 出国（Study Abroad）
- 英语硬门槛：≥ 60
- 结算权重：英语(0.30) + 研究能力(0.30) + 学术能力(0.20) + 职业能力(0.10) + 稳定性(0.05) + 运气(0.05)
- 等级：Top(≥80) / Good(≥70) / Basic(≥60) / Fail(<60)
- 结局：`overseas_admit` / `overseas_setback` / 隐藏成就

#### 就业（Employment）
- 结算权重：职业能力(0.50) + 学术能力(0.20) + 英语(0.10) + 稳定性(0.15) + 研究能力(0.05) + 运气(0.10)
- 等级：SSP级(≥78) / SP级(≥68) / P级(≥58) / Fail(<58)
- 结局：`job_offer` / `job_struggle` / 隐藏成就

## 🎨 游戏界面

### 主要标签
1. **概览** - 开局设置选项
2. **选课&考试** - 课程选择、退补选、成绩查看
3. **本周&日志** - 每周行动选择和游戏日志
4. **路线&机会** - 路线进度、评分、offer和成就

### 对话系统
- 随机触发的事件事件弹窗
- 支持多选项交互
- 对不同选择有不同影响

## 💾 技术栈

### 核心文件
- `index.html` - 游戏主界面
- `game.js` - 游戏引擎和逻辑
- `course.js` - 课程系统和选课逻辑
- `event.js` - 事件系统
- `route_spec.js` - 路线和评分规则
- `route_engine.js` - 路线结算引擎
- `grade_rule.js` - 成绩评分规则
- `log_templates.js` - 日志模板
- `style.css` - 游戏样式

### 依赖关系
```
game.js
├── course.js (选课和课程管理)
├── event.js (事件触发)
├── route_spec.js (路线规格)
├── route_engine.js (路线评分)
└── log_templates.js (日志格式)
```

## 🚀 开始游戏

### 安装和运行
1. 将所有文件放在同一目录
2. 用浏览器打开 `index.html`
3. 选择开局设置（学院、家境、路线）
4. 点击"开始"进入游戏

### 游戏流程
- **第1周**：自动选课或手动调整
- **第3周**：打开退补选弹窗调整课程
- **第7-8周**：可能触发随机事件
- **第14-16周**：期末考试周，自动生成成绩
- **学年末**：自动结算该学年的GPA和路线进度

## 📊 属性详解

### 精力 (Energy)
- 初始：50
- 影响：行动成功率、学习效率
- 来源：休息
- 消耗：各种行动

### 压力 (Stress)
- 初始：40
- 影响：健康下滑速度、心情
- 来源：学习、科研、工作
- 缓解：休息、锻炼

### 心情 (Mood)
- 初始：60
- 影响：生病概率、事件触发权重
- 提升：聚会、休息、完成目标
- 下滑：压力高、精力低

### 健康 (Health)
- 初始：75
- 门槛：过低(<40)导致小病，非常低(<20)导致大病
- 提升：锻炼、充分休息
- 下滑：压力、精力不足

### 金钱 (Money)
- 初始：由家境决定（拮据2000/普通4000/小康8000/富裕15000）
- 来源：每月家里补贴、工作
- 消耗：日常开销、聚会、锻炼、考试报名

### 社交 (Social)
- 初始：0
- 来源：聚会、参加社团、随机事件
- 影响：运气权重、心情恢复系数

## 🏆 成就系统

游戏包含多个可解锁的成就和徽章，部分隐藏：
- 学位类：保研成功、考研上岸、考公上岸等
- 隐藏类：大厂SPP、直博邀请、顶级实验室等
- 挑战类：多条路线平行发展

## ⚙️ 游戏设置

### 难度平衡
- 不同家境影响每月收入
- 不同学院影响课程难度分布
- 不同路线影响事件权重
- 属性影响行动成功率和效率

### 自动化功能
- 自动选课：按培养方案自动选满本学期课程
- 自动排冲突：退补选弹窗中一键解决课程冲突
- 自动成绩生成：期末自动计算各科成绩

## 📝 常见问题

**Q: 怎样才能保研？**
A: 选择保研路线，保证每学期GPA ≥ 3.7，第6学期末通过预估资格。

**Q: 金钱不够用怎么办？**
A: 选择工作行动增加收入，或选择富裕家境。

**Q: 如何获得隐藏结局？**
A: 在路线的第3阶段获得足够的tokens（通常≥5-7），完成特定事件的特定选项。

**Q: 期末没有选课会怎样？**
A: 不选课会影响成绩生成，建议使用"自动选课"功能。

## 📄 许可证

This project is created for educational purposes.

## 🔄 版本历史

### v0.4.2
- ✅ 新增社交属性系统
- ✅ 自动选课和退补选弹窗
- ✅ 按培养方案智能课程分配
- ✅ 优化属性平衡和难度
- ✅ 支持多路线平行发展

### v0.4.0 - v0.4.1
- 基础游戏框架
- 初版属性系统
- 基础路线和事件系统

## 📞 反馈与建议

如有游戏平衡问题、功能建议或Bug报告，欢迎在项目中提出。

---

**祝你在大学生活中做出最优选择！** 🎓
